# Production values for ESDDNS Operator
# helm install esddns-operator . -f values-production.yaml

environment: production

global:
  domain: yourdomain.com
  recordName: "@"
  recordTTL: 300

gandi:
  apiKey: ""  # Set via --set or sealed-secrets

image:
  repository: esddns
  tag: latest
  pullPolicy: Always

service:
  enabled: true
  type: LoadBalancer
  port: 80
  targetPort: 51339
  resources:
    requests:
      memory: "512Mi"
      cpu: "250m"
    limits:
      memory: "1Gi"
      cpu: "500m"

daemon:
  enabled: true
  resources:
    requests:
      memory: "512Mi"
      cpu: "250m"
    limits:
      memory: "1Gi"
      cpu: "500m"
  logLevel: INFO

monitoring:
  enabled: true
  serviceMonitor:
    enabled: true
    interval: 30s
  prometheusRules:
    enabled: true

podDisruptionBudget:
  enabled: true
  minAvailable: 1

affinity:
  nodeAffinity:
    preferredDuringSchedulingIgnoredDuringExecution:
      - weight: 100
        preference:
          matchExpressions:
            - key: node-role.kubernetes.io/control-plane
              operator: DoesNotExist
  podAntiAffinity:
    preferredDuringSchedulingIgnoredDuringExecution:
      - weight: 100
        podAffinityTerm:
          labelSelector:
            matchExpressions:
              - key: app
                operator: In
                values:
                  - esddns-service
          topologyKey: kubernetes.io/hostname
